==============================================
Thai Localization - Account Vendor Tax Invoice
==============================================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:97b8b9aa2944c6fe8d72fe60e4b0083e78cf475ecf3457e0b074811a20f87797
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Alpha-red.png
    :target: https://odoo-community.org/page/development-status
    :alt: Alpha
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-OCA%2Fl10n--thailand-lightgray.png?logo=github
    :target: https://github.com/OCA/l10n-thailand/tree/12.0/l10n_th_vendor_tax_invoice
    :alt: OCA/l10n-thailand
.. |badge4| image:: https://img.shields.io/badge/weblate-Translate%20me-F47D42.png
    :target: https://translation.odoo-community.org/projects/l10n-thailand-12-0/l10n-thailand-12-0-l10n_th_vendor_tax_invoice
    :alt: Translate me on Weblate
.. |badge5| image:: https://img.shields.io/badge/runboat-Try%20me-875A7B.png
    :target: https://runboat.odoo-community.org/builds?repo=OCA/l10n-thailand&target_branch=12.0
    :alt: Try me on Runboat

|badge1| |badge2| |badge3| |badge4| |badge5|

This module address the undue tax requirement for Thailand

In Odoo, cash basis feature is being used to cover case of undue tax (due on payment).
This can answer the issue about undue tax in Thailand partially.
For customer invoice/payment, Odoo's cash basis alone is enough.

But for supplier invoice/payment and expense, where tax invoice number and tax date is given from vendor.
This module will provide ways for user to do so on vendor bill (for normal tax) and
in supplier payment (for undue tax which is due on payment).

Note : This module also delete line in journal entry are not used
and Remove required field Base Tax Received Account.

.. IMPORTANT::
   This is an alpha version, the data model and design can change at any time without warning.
   Only for development or testing purpose, do not use in production.
   `More details on development status <https://odoo-community.org/page/development-status>`_

**Table of contents**

.. contents::
   :local:

Installation
============

To install this module, you need to install the hook addon **account_create_tax_cash_basis_entry_hook**

Then, simply install **l10n_th_vendor_tax_invoice**.

Usage
=====

With this, 2 new tax related fields will be introduced in account.move.line

1. tax_invoice : Tax Invoice Number
2. tax_date : Tax Invoice Date

In customer invoice, both field will be defaulted by Odoo's document number and date.
But in supplier invoice, both field must be filled by user with tax invoice number and date from vendor.

Note: These 2 fields will be also be used in Thai VAT report, with the intention that every report should be coded out of account.move.line

**Preparing Undue Tax**

- Use Developer Mode
- In Chart of Account, add new account for Undue Tax, if not already exists.
- As admin, add access rights ``Show Full Accounting Features``
- Go to Invoicing > Configuration > Settings and select ``Cash Basis``, this will open cash basis options in Tax master data
- Go to Invoicing > Configuration > Accounting > Taxes, create new undue tax for both sales and purchase

**Case Customer Invoice and Payment**

As mentioned earlier, customer side operation do not affected by this module.
But we should still now see the new ``Tax Invoice Number`` and ``Tax Date`` field in account.move.line

- Create new customer invoice and choose to use sales' VAT or Undue VAT
- Process invoice and payment as per normal, Odoo document number and date should be used as Tax Invoice Number/Date
- To check Tax Invoice Number and Date in relevant journal items, go to Invoicing > Accounting > Journal Items, then click to expand

**Case Supplier Invoice/Payment**

**1) Case Input VAT**

- Create new vendor bill and choose Input VAT
- At vendor bill's tax table, fill in 2 new fields, ``Tax Invoice`` and ``Tax Date`` given by your vendor
- Validate this vendor bill, the given Tax Invoice Number and Tax Date should be used in account.move.line
- To check Tax Invoice Number and Date in relevant journal items, go to Invoicing > Accounting > Journal Items, then click to expand

**2) Case Undue Input VAT**

- Create new vendor bill and choose Undue Input VAT
- Validate vendor bill, journal entry will be created with Undue VAT
- Register payment as per normal, this will create new payment document as per normal
- From this process, the journal entry (cash basis) for clear undue is created, but it will be in state **Draft**
- Go to payment document, â€‹select ``Key-in tax invoice number/date from supplier``, and fill in Tax Invoice Number and Tax Date
- Click on Clear VAT button, the journal entry (cash basis) for clear undue will now be **Posted**
- To check Tax Invoice Number and Date in relevant journal items, go to Invoicing > Accounting > Journal Items, then click to expand

**Preparing Tax Adjustments**

- Use Developer Mode
- As admin, add access rights ``Show Full Accounting Features``
- Go to Invoicing > Configuration > Accounting > Taxes, create new Tax Scope ``Adjustment``


**Case Tax Adjustments**

- Go to Invoicing > Accounting > Tax Adjustments
- Create journal entry directly to adjust tax (manually by accountant)

Changelog
=========

12.0.1.0.0 (2019-03-07)
~~~~~~~~~~~~~~~~~~~~~~~

* Start of the history

12.0.1.0.1 (2019-06-04)
~~~~~~~~~~~~~~~~~~~~~~~

* Change field name

12.0.1.1.0 (2019-06-11)
~~~~~~~~~~~~~~~~~~~~~~~

* Delete line in journal entry is not used
* Invisible required field Base Tax Received Account

12.0.2.0.0 (2019-06-22)
~~~~~~~~~~~~~~~~~~~~~~~

* Applicable to HR Expense too, when it also use Undue Tax (add depends on hr_expense)
* Add partner_id in account.payment.tax, to allow changing partner (mostly for expense case)

12.0.2.1.0 (2019-07-17)
~~~~~~~~~~~~~~~~~~~~~~~

* Add partner, invoice date/number and amount fields in Tax Adjustments Wizard (to comply with Thai tax report)
* Fix bug Tax Base amount in move line is 0 (case undue vat)

12.0.2.1.1 (2019-07-22)
~~~~~~~~~~~~~~~~~~~~~~~

* Fix bug error when cancel payment (case undue vat)

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/OCA/l10n-thailand/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/OCA/l10n-thailand/issues/new?body=module:%20l10n_th_vendor_tax_invoice%0Aversion:%2012.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
~~~~~~~

* Ecosoft

Contributors
~~~~~~~~~~~~

* Kitti Upariphutthiphong. <kittiu@gmail.com> (http://ecosoft.co.th)
* Saran Lim. <saranl@ecosoft.co.th>

Maintainers
~~~~~~~~~~~

This module is maintained by the OCA.

.. image:: https://odoo-community.org/logo.png
   :alt: Odoo Community Association
   :target: https://odoo-community.org

OCA, or the Odoo Community Association, is a nonprofit organization whose
mission is to support the collaborative development of Odoo features and
promote its widespread use.

.. |maintainer-kittiu| image:: https://github.com/kittiu.png?size=40px
    :target: https://github.com/kittiu
    :alt: kittiu

Current `maintainer <https://odoo-community.org/page/maintainer-role>`__:

|maintainer-kittiu| 

This module is part of the `OCA/l10n-thailand <https://github.com/OCA/l10n-thailand/tree/12.0/l10n_th_vendor_tax_invoice>`_ project on GitHub.

You are welcome to contribute. To learn how please visit https://odoo-community.org/page/Contribute.
